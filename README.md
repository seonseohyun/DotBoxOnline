# 🎮 DotBoxOnline

**C# 기반 멀티플레이 점·선·상자(Dots and Boxes) 게임**  
ASP.NET Core 서버 + WinForms 클라이언트 구조를 기반으로,
클라이언트–서버 통신, 상태 동기화, AI 알고리즘 설계를 실제 게임 형태로 구현했습니다.

- 서버는 **AWS EC2 상시 구동**
- 클라이언트는 **Windows 실행 파일 배포**
- 멀티플레이 및 **AI 싱글플레이(난이도 선택)** 지원


## 개발 목적 (Educational Purpose)
본 프로젝트는 다음과 같은 학습 목표를 바탕으로 제작되었습니다.

* **클라이언트–서버 구조 이해**
  * HTTP 기반 통신 구조 설계
  * 서버 판정 중심 게임 로직 구현

* **실시간 멀티플레이 동기화**
  * 턴 관리 및 이벤트 시퀀스 기반 상태 동기화
  * 재접속 시 게임 상태 복구 처리

* **게임 AI 알고리즘 학습**
  * 규칙 기반 AI (Easy / Normal)
  * **Minimax 알고리즘**을 활용한 전략적 AI (Hard)

* **실제 배포 경험**
  * AWS 서버 배포 및 상시 구동
  * Windows 클라이언트 빌드 및 배포(zip / Release)

본 프로젝트는 **네트워크 프로그래밍과 알고리즘을 실습 중심으로 학습하기 위한 교육용 프로젝트**입니다.

---

## 주요 기능

### 1️⃣ 실시간 멀티플레이
- **2~3인 멀티플레이 지원**
- 방 생성 및 **초대 코드 기반 참가**
- AWS 서버 상시 구동 → 별도 호스트 필요 없음

---

### 2️⃣ 싱글플레이 (AI 대전)

1인용 모드에서는 **AI 난이도 선택**이 가능하며,  
난이도에 따라 서로 다른 수 선택 전략을 사용합니다.

####  AI 난이도 구성
- **Easy**
  - 가능한 선 중 **무작위(Random)** 로 선택

- **Normal**
  - **박스 완성 가능 여부를 우선 판단**
  - 완성 가능한 박스가 있으면 즉시 마무리
  - 없을 경우 일반 규칙으로 진행

- **Hard**
  - **Minimax 알고리즘 기반**
  - 다음 수와 상대의 응답까지 고려하여
  - 장기적으로 가장 유리한 **최선의 수** 선택

---

### 3️⃣ 서버 판정 기반 게임 로직
- 모든 선 긋기 / 박스 완성 판정은 **서버에서 처리**
- 턴 순서 및 점수 관리 서버 일관 처리
- 클라이언트 치트 방지 구조

---

### 4️⃣ 게임 상태 동기화
- 이벤트 시퀀스(seq) 기반 `/draw` 프로토콜
- 재접속 시에도 **현재 보드 상태 복구 가능**
- 라운드(gameRound) 단위 게임 관리

---

### 5️⃣ 안정적인 통신 구조
- `HttpClient` 재사용 구조
- 타임아웃 및 예외 처리로 네트워크 오류 대응
- 서버 상태 확인용 `/health` 엔드포인트 제공

---

## 🏗 시스템 구조

```
[ WinForms Client ]
        |
        |  HTTP / JSON
        |
[ ASP.NET Core Server ]
        |
(In-Memory Game State)
```

- 서버: AWS EC2 단일 인스턴스
- 게임 상태: 메모리 기반 관리
- DB 미사용 (세션 중심 구조)

---

## 💻 실행 환경

### 클라이언트
- OS: Windows 10 이상
- Framework: .NET Framework 4.8
- GUI: WinForms (C#)

### 서버
- Platform: ASP.NET Core
- Hosting: AWS EC2 (Ubuntu)
- Port: 8080

---

## 🚀 실행 방법 (Client)

1. GitHub **Releases** 페이지에서 zip 파일 다운로드
2. 압축 해제
3. `DotBoxClient.exe` 실행
4. 닉네임 입력 후 서버 접속
5. 방 생성 또는 초대 코드로 참가

※ 최초 실행 시 Windows 방화벽 허용이 필요할 수 있습니다.

---

## 📌 참고 사항
- 서버 재시작 시 진행 중인 방 정보는 초기화됩니다.
- 본 프로젝트는 Windows 클라이언트 전용입니다.

---

## 👥 팀 구성
- 서버 AWS: @seonseohyun (선서현)
- 클라이언트 WinForms: @93pse (박서은)
- 게임 로직 & AI: @hhyeonhee (한현희)
